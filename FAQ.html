<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Bayesian Data Analysis course - FAQ</title>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Bayesian Data Analysis course</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Material</a>
</li>
<li>
  <a href="Aalto2022.html">Aalto 2022</a>
</li>
<li>
  <a href="assignments.html">Assignments</a>
</li>
<li>
  <a href="project.html">Project</a>
</li>
<li>
  <a href="demos.html">Demos</a>
</li>
<li>
  <a href="FAQ.html">FAQ</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Bayesian Data Analysis course - FAQ</h1>
<h4 class="date">Page updated: 2022-09-07</h4>

</div>


<div id="how-to-access-the-course-material-in-github" class="section level2">
<h2>How to access the course material in Github</h2>
<p>Instead of trying to download each file separately via the Github interface, it is recommended to use one of these options:</p>
<ul>
<li>The best way is to clone the repository using git, and use pull to get the latest updates.
<ul>
<li>If you want to learn to use git, start by installing a <a href="https://www.google.com/search?q=git+clients&amp;oq=git+client">git client</a>. There are plenty of good git tutorials online.</li>
</ul></li>
<li>If you don’t want to learn to use git, download a the repository as a zip file. Click the green button “Code” at the main page of the repository and choose “Download ZIP” (<a href="https://github.com/avehtari/BDA_course_Aalto/archive/master.zip">direct link</a>). Remember to download again during the course to get the latest updates.</li>
</ul>
</div>
<div id="r-packages-used-in-demos" class="section level2">
<h2>R packages used in demos</h2>
<p>Aalto JupyterHub has all the R packages used in demos pre-installed. If you install R on your own computer, you can install all the packages used by the main demos with</p>
<pre><code>install.packages(c((&quot;MASS&quot;, &quot;bayesplot&quot;, &quot;brms&quot;, &quot;cmdstanr &quot;, &quot;dplyr&quot;, &quot;gganimate&quot;, &quot;ggdist&quot;, &quot;ggforce&quot;, &quot;ggplot2&quot;, &quot;grid&quot;, &quot;gridExtra&quot;, &quot;latex2exp&quot;, &quot;loo&quot;, &quot;plyr&quot;, &quot;posterior&quot;, &quot;purrr&quot;, &quot;rprojroot&quot;, &quot;tidyr&quot;)))</code></pre>
</div>
<div id="installing-aaltobda-package" class="section level2">
<h2>Installing <code>aaltobda</code> package</h2>
<p>The course has its own R package aaltobda with data and functionality to simplify coding. To install the package just run the following (upgrade=”never” skips question about updating other packages):</p>
<ol style="list-style-type: decimal">
<li><code>install.packages("remotes")</code></li>
<li><code>remotes::install_github("avehtari/BDA_course_Aalto", subdir = "rpackage", upgrade="never")</code></li>
</ol>
<p>If during the course there is announcement that <code>aaltobda</code> has been updated (e.g. some error has been fixed), you can get the latest version by repeating the second step above.</p>
</div>
<div id="problems-installing-r-packages-on-windows" class="section level2">
<h2>Problems installing R packages on Windows ?</h2>
<p>Getting the setup needed for the course working on Windows might involve a bit more effort than on Linux and Mac. Consequently, <strong>we recommend using either Linux or MacOS, or using R remotely</strong>. Moreover, <code>Stan</code>, the probabilistic programming language which we will use later on during the course requires a C++ compiler toolchain which is not available by default in Windows (blame Microsoft). However, if you want to use Windows and have a problem getting the setup working, below are two options to consider:</p>
</div>
<div id="how-to-use-r-and-rstudio-remotely" class="section level2">
<h2>How to use R and RStudio remotely</h2>
<div id="option-1-using-r-and-rstudio-via-jupyterhub" class="section level3">
<h3>Option 1: Using R and RStudio via Jupyterhub</h3>
<p>Instead of installing RStudio on your computer, you can use it in your web browser:</p>
<ul>
<li><a href="https://scicomp.aalto.fi/aalto/jupyterhub/">Information about Aalto JupyterHub</a></li>
<li>Go to <a href="https://jupyter.cs.aalto.fi">jupyter.cs.aalto.fi</a></li>
<li>Choose <code>CS-E5710 - Bayesian Data Analysis (2022) -r-ubuntu:5.0.6-dev14-bayes</code></li>
<li>In the Launcher click <code>RStudio</code></li>
<li>In the RStudio Files pane (bottom right) you can create folders for your work and upload files from your computer to the server
<ul>
<li>The <strong>notebooks</strong> folder is the only persistent folder (stays there if you sign out) so save everything to that folder!</li>
<li>You may get an error when uploading a large zip file, but uploading smaller zip files work. If you can’t upload demo zip file contact the course staff via Zulip.</li>
<li>You may access your data as a network drive by SMB mounting it on your own computer - <a href="https://scicomp.aalto.fi/aalto/jupyterhub-data/">see Accessing JupyterHub data</a>. This allows you to have total control over your data.</li>
</ul></li>
<li>After uploading files, use Files pane to open them (e.g. an RMarkdown or Quarto notebook)</li>
<li>Knitting of R, Rmd, and qmd files works as well (tested 24th August)</li>
<li>CmdStanR used later in the course has been tested to work 24th August.</li>
<li>There is a limited memory available (3Gib) and bigger models and datasets can run out of memory with cryptic error message, but the demos and assignment models should run (if not, then contact the course staff via Zulip).</li>
<li>See also <a href="https://scicomp.aalto.fi/aalto/jupyterhub/#faq-and-bugs">Aalto JupyterHub FAQ and bugs</a></li>
</ul>
</div>
<div id="option-2-use-aalto-linux-via-remote-desktop-solution-provided-by-aalto-it." class="section level3">
<h3>Option 2: Use Aalto Linux via remote-desktop solution provided by Aalto-IT.</h3>
<ul>
<li><a href="https://scicomp.aalto.fi/aalto/remoteaccess/#remote-desktop">Information about Aalto remote desktop</a></li>
<li>Goto <a href="https://vdi.aalto.fi">vdi.aalto.fi</a></li>
<li>Download VMWare Horizon application or use the web portal
<ul>
<li>If using the VMWare Horizon application, click on <code>New Server</code> and enter <code>vdi.aalto.fi</code></li>
</ul></li>
<li>Enter your aalto username (aalto email works too) and password in the respective fields.</li>
<li>Select <code>Ubuntu 20.04</code></li>
<li>Click Activities, start typing <code>RStudio</code> in the search bar, and click <code>RStudio</code>.</li>
</ul>
</div>
</div>
<div id="error-related-to-lc_ctype-while-installing-aaltobda-r-package." class="section level2">
<h2>Error related to LC_CTYPE while installing <code>aaltobda</code> r-package.</h2>
<p>When installing the <code>aaltobda</code> package, you may encounter an error like this:</p>
<pre class="r"><code>Error: (converted from warning) Setting LC_CTYPE failed, using &quot;C&quot;
Execution halted
Error: Failed to install &#39;aaltobda&#39; from GitHub:
 (converted from warning) installation of package &#39;/var/folders/g6/bdv4dr4s6qq4zyxw2nzy26kr0000gn/T//Rtmp3uYwuD/file121f355845a3/aaltobda_0.1.tar.gz&#39; had non-zero exit status</code></pre>
<p><strong>Solution:</strong> See the following StackOverflow solution. (<a href="https://stackoverflow.com/a/3909546">link</a>)</p>
</div>
<div id="installing-knitr" class="section level2">
<h2>Installing <code>knitr</code></h2>
<p>If you just installed RStudio and R, chances are you don’t have <code>knitr</code> installed, the package responsible for rendering your notebook to pdf.</p>
<p><strong>Solution:</strong></p>
<pre class="r"><code>install.packages(&quot;knitr&quot;)</code></pre>
<p>You can also install packages from RStudio menu <code>Tools-&gt;Install Packages</code>.</p>
</div>
<div id="if-knitr-is-installed-but-the-pdf-wont-compile" class="section level2">
<h2>If <code>knitr</code> is installed but the pdf won’t compile</h2>
<p>In this case it is possible that you don’t have LaTeX installed, which is the package that runs the engine to process the text and render the pdf itself.</p>
<p><strong>Solution:</strong> Tinytex is the bare minimum Latex core that you need to install in order to run the pdf compiler. If you want to go further and download a full distribution of Latex, look at TeX Live for Linux and MacTeX for Mac OS.</p>
<pre class="r"><code>install.packages(&quot;tinytex&quot;)
tinytex::install_tinytex()</code></pre>
</div>
<div id="how-to-install-the-latest-version-of-cmdstanr-or-rstan" class="section level2">
<h2>How to install the latest version of <code>CmdStanR</code> or <code>RStan</code></h2>
<ul>
<li>Make sure you have installed R version 4.* or newer. If you don’t, install a newer version using instructions from <a href="https://www.r-project.org/">https://www.r-project.org/</a></li>
<li>At the moment <code>CmdStanR</code> is faster in use, and thus we recommmend using <code>CmdStanR</code> instead of <code>RStan</code>, but both can be used for the assignments.</li>
<li><a href="https://mc-stan.org/cmdstanr/"><code>CmdStanR</code></a> is a lightweight interface to Stan for R users (see <code>CmdStanPy</code> for Python).</li>
<li><code>CmdStanR</code> avoids some installation problems as it doesn’t require matching C++ tools for <code>R</code> and <code>RStan</code></li>
<li>Install <code>RStan</code> along with the necessary C++ compiler toolchain as described <a href="https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started">here</a></li>
</ul>
<p>Instead of RStan, you can also use new <code>CmdStanR</code> which maybe easier to install.</p>
</div>
<div id="workarounds-for-current-rstan-windows-issues" class="section level2">
<h2>Workarounds for current Rstan Windows issues</h2>
<ul>
<li><a href="https://discourse.mc-stan.org/t/workarounds-for-current-rstan-windows-issues/17389">A list of the current RStan Windows problems and and known temporary workarounds</a></li>
</ul>
</div>
<div id="what-is-tidyr-or-tidyverse-that-is-used-in-the-r-demos-what-does-mean" class="section level2">
<h2>What is <code>tidyr</code> or <code>tidyverse</code> that is used in the R demos? What does <code>%&gt;%</code> mean?</h2>
<ul>
<li><a href="https://www.tidyverse.org/">Tidyverse</a> is a collection of R packages designed for data science. The packages “share an underlying design philosophy, grammar, and data structures”.</li>
<li>A clear characteristic that distinguishes tidyverse from the base R is the <a href="https://style.tidyverse.org/pipes.html">pipe operator</a> <code>%&gt;%</code></li>
<li>Recent R versions have a new built-in pipe operator <code>|&gt;</code>, which in most cases can replace <code>%&gt;%</code>, and there are some differences only in more advanced use cases.</li>
<li>In this course you do not need to use tidyverse. However, some packages belonging to tidyverse, such as <code>ggplot2</code>, can be useful for visualizing results in the reports.</li>
</ul>
</div>
<div id="how-to-access-the-bda-r-and-python-demos-on-cs-jupyterhub" class="section level2">
<h2>How to access the BDA R (and Python) demos on CS JupyterHub</h2>
<ul>
<li><p>Goto <code>jupyter.cs.aalto.fi</code> on your favourite web-browser. <img src="https://zenodo.org/record/4010716/files/1.png" /></p></li>
<li><p>Log-in with your aalto username and password.</p></li>
<li><p>Select the <code>CS-E5710 - Bayesian Data Analysis (2022) -r-ubuntu:5.0.6-dev14-bayes</code> server (the figure below shows the wrong server name). <img src="https://zenodo.org/record/4010716/files/2.png" /></p></li>
<li><p>Select the <code>notebooks</code> folder in the left hand file browser. <img src="https://zenodo.org/record/4010716/files/3.png" /></p></li>
<li><p>Select the <code>git clone icon</code> as seen in the screenshot below. <img src="https://zenodo.org/record/4010716/files/4.png" /></p></li>
<li><p>In the text box type <code>https://github.com/avehtari/BDA_R_demos.git</code> for python demos replace <code>BDA_R_demos.git</code> with <code>BDA_Python_demos.git</code> instead. Then click <code>clone</code>. <img src="https://zenodo.org/record/4010716/files/4.png" /></p></li>
<li><p>Wait a while, there should be <code>BDA_R_demos</code> folder under <code>notebooks</code> folder. Click on the <code>BDA_R_demos</code> folder. <img src="https://zenodo.org/record/4010716/files/6.png" /></p></li>
<li><p>Click on the RStudio button on the right. <img src="https://zenodo.org/record/4010716/files/7.png" /></p></li>
<li><p>Now you should have an R-studio like interface in your web-browser. Click on <code>File -&gt; Open File...</code> <img src="https://zenodo.org/record/4010716/files/9.png" /></p></li>
<li><p>Click on <code>notebooks</code> and then select <code>BDA_R_demos</code> folder. <img src="https://zenodo.org/record/4010716/files/10.png" /></p></li>
<li><p>Select a demo to run. Here we open the folder <code>demos_ch2</code> and then select <code>demo2_1.R</code> file and click <code>open</code>. This should open the file in the window. <img src="https://zenodo.org/record/4010716/files/11.png" /></p></li>
<li><p>Select the contents of the file and click <code>Code -&gt; Run Selected Line(s)</code> as shown in the screenshot below. <img src="https://zenodo.org/record/4010716/files/12.png" /></p></li>
<li><p>You should see the output of the code in the bottom right corner. <img src="https://zenodo.org/record/4010716/files/13.png" /></p></li>
</ul>
</div>
<div id="i-missed-some-deadline-or-wasnt-able-to-do-some-part-of-the-course" class="section level2">
<h2>I missed some deadline or wasn’t able to do some part of the course</h2>
<ul>
<li>I missed the deadline to register for the course in Sisu. Can I join the course?
<ul>
<li>Yes, just register in MyCourses.</li>
</ul></li>
<li>I missed the deadline for the assignment. Can you accept my late submission?
<ul>
<li>If you miss the deadline during the few first rounds due technical problems, but you send the pdf to one of the TAs few minutes after the deadline it can accepted once. As the recommended submission time is before 4pm on Friday, you have in general 56 hours extra hours for submission and several few minute late submissions is not likely just due to the technical problems.</li>
</ul></li>
<li>I was not able to do one of the assignments because [some personal problem]. Can I do some extra work?
<ul>
<li>Things happen and you don’t need to tell the course staff your personal reasons (especially you shouldn’t tell any health issue details). Everyone gets a second change in period III. In period III there is just one submission deadline, but otherwise the procedure is the same (ie you need to return all the assignments). If you submitted the project work in autumn you don’t need to re-submit it if you re-submit assignments.</li>
</ul></li>
<li>I missed the deadline to register project group. Can I still register?
<ul>
<li>Yes. Those who registered early are allowed to choose the presentation slots first.</li>
</ul></li>
<li>My group member a) disappeared, b) doesn’t do anything, c) is annoying. Can I continue with the project alone.
<ul>
<li>First we hope you can resolve the issue, but if nothing works, then you can continue the project work alone.</li>
</ul></li>
<li>I was not able a) to do the project or b) to give a presentation because [some personal problem]. Can a) I submit it later, b) present later.
<ul>
<li>Things happen and you don’t need to tell the course staff your personal reasons (especially you shouldn’t tell any health issue details). Everyone gets a second change in period III. In period III there is second project submission deadline and presentation slots. If you are happy with your assignment score, you don’t need to re-submit assignments if you submit the project work in period III.</li>
</ul></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
